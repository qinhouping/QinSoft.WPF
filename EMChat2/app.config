<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="log" type="QinSoft.Log.Config.LogSection, QinSoft.Log" />
  </configSections>
  
  <appSettings>
    <add key="LoginInfoFilePath" value="./Config/LoginInfo.json"/>
    <add key="UrlMappingFilePath" value="./Config/UrlMapping.json"/>
    <add key="WindowInfoFilePath" value="./Config/WindowInfo.json"/>
    <add key="AllowMulitInstance" value="false"/>
    <add key="ShowCefDevTools" value="false"/>
    <add key="ShowGlobalError" value="false"/>
  </appSettings>
  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5.2"/>
  </startup>

  <log appId="1000006" appSecret="EMChat2.WPF.Secret">
    <targets>
      <target key="FileLog" type="QinSoft.Log.Core.FileLogImp,QinSoft.Log" filePathFormat="'Log\\${Level}\\'yyyy-MM-dd.'log'"></target>
      <target key="ApiLog" type="QinSoft.Log.Core.ApiLogImp, QinSoft.Log" logApiUrl="https://tgchatapi.eastmoney.com/QinSoft.Log/Api/LogApi">
        <fieldMappers>
          <fieldMapper fieldName="AppID" fieldFormat="${AppID}" fieldType="System.Int32"></fieldMapper>
          <fieldMapper fieldName="LogSign" fieldFormat="${Sign}"></fieldMapper>
          <fieldMapper fieldName="LogTimeStamp" fieldFormat="${TimeStamp}" fieldType="System.Int64"></fieldMapper>
          <fieldMapper fieldName="LogType" fieldFormat="${Type}" fieldType="QinSoft.Log.Core.LogType, QinSoft.Log"></fieldMapper>
          <fieldMapper fieldName="LogLevel" fieldFormat="${Level}" fieldType="QinSoft.Log.Core.LogLevel, QinSoft.Log"></fieldMapper>
          <fieldMapper fieldName="LogAction" fieldFormat="${Action}"></fieldMapper>
          <fieldMapper fieldName="LogMessage" fieldFormat="${Message}"></fieldMapper>
          <fieldMapper fieldName="LogException" fieldFormat="${Exception}"></fieldMapper>
          <fieldMapper fieldName="LogFrom" fieldFormat="From EMChat.WPF"></fieldMapper>
        </fieldMappers>
      </target>
    </targets>

    <rules>
      <rule targetKey="FileLog" maxLogLevel="Info"></rule>
      <rule targetKey="ApiLog" minLogLevel="Warning"></rule>
    </rules>
  </log>
</configuration>
